(function(e){e.fn.dcVerticalMegaMenu=function(t){var n={classParent:"dc-mega",arrow:true,classArrow:"dc-mega-icon",classContainer:"sub-container",classSubMenu:"sub",classMega:"mega",classSubParent:"mega-hdr",classSubLink:"mega-hdr",classRow:"row",rowItems:3,speed:"fast",effect:"show",direction:"right"};var t=e.extend(n,t);var r=this;return r.each(function(t){function o(){e(this).addClass("mega-hover");var t=e("> a",this);var r=e(".sub",this);var s=e(".sub-container",this);var o=s.width();var u=s.outerHeight();var a=s.height();var f=e(this).outerHeight(true);var l=t.offset();var c=e(window).scrollTop();var l=l.top-c;var h=e(window).height();var p=h-l;var d=p-u;if(d<0){var v=d-f;s.css({marginTop:v+"px"})}var m={right:i};if(n.direction=="right"){m={left:i}}if(n.effect=="fade"){s.css(m).fadeIn(n.speed)}if(n.effect=="show"){s.css(m).show()}if(n.effect=="slide"){s.css({width:0,height:0,opacity:0});if(n.direction=="right"){s.show().css({left:i})}else{s.show().css({right:i})}s.animate({width:o,height:a,opacity:1},n.speed)}}function u(){e(this).removeClass("mega-hover");var t=e(".sub-container",this);t.hide()}$mega=e(this);if(n.direction=="left"){$mega.addClass("left")}else{$mega.addClass("right")}var i=$mega.width();e("> li",$mega).each(function(){var t=e(this);var r=e("> ul",t);if(r.length>0){e("> a",t).addClass(n.classParent).append('<span class="'+n.classArrow+'"></span>');r.addClass(n.classSubMenu).wrap('<div class="'+n.classContainer+'" />');var i=e("."+n.classContainer,t);if(e("ul",r).length>0){t.addClass(n.classParent+"-li");i.addClass(n.classMega);e("> li",r).each(function(){e(this).addClass("mega-unit");if(e("> ul",this).length){e(this).addClass(n.classSubParent);e("> a",this).addClass(n.classSubParent+"-a")}else{e(this).addClass(n.classSubLink);e("> a",this).addClass(n.classSubLink+"-a")}});var s=e(".mega-unit",t);rowSize=parseInt(n.rowItems);for(var o=0;o<s.length;o+=rowSize){s.slice(o,o+rowSize).wrapAll('<div class="'+n.classRow+'" />')}var u=e(".mega-unit",r).outerWidth(true);var a=e(".row:eq(0) .mega-unit",r).length;var f=u*a;var l=f+p;e(".row",this).each(function(){e(".mega-unit:last",this).addClass("last");var t=undefined;e(".mega-unit > a",this).each(function(){var n=parseInt(e(this).height());if(t===undefined||t<n){t=n}});e(".mega-unit > a",this).css("height",t+"px");e(this).css("width",f+"px")});var c=r.outerWidth(true);var h=i.outerWidth(true);var p=h-c;e(".row",r).each(function(){var t=e(this).height();e(this).parent(".row").css("height",t+"px")});e(".row:last",r).addClass("last");e(".row:first",r).addClass("first")}else{i.addClass("non-"+n.classMega)}}var i=e("."+n.classContainer,t);var c=r.outerWidth(true);var d=i.height();var v=t.outerHeight(true);i.css({height:d+"px",marginTop:-v+"px",zIndex:"1000",width:c+"px"}).hide()});var s={sensitivity:2,interval:100,over:o,timeout:0,out:u};e("li",r).hoverIntent(s)})}})(jQuery)